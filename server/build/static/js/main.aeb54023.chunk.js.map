{"version":3,"sources":["dashboard/images/profiles/user__1.png","dashboard/images/profiles/call-avatar.png","dashboard/store/sagas/conversations.js","dashboard/store/actions/index.js","dashboard/store/sagas/messages.js","dashboard/store/sagas/index.js","dashboard/store/reducers/conversations.js","dashboard/store/reducers/messages.js","dashboard/store/reducers/index.js","client/styles.js","client/Components/Button.js","client/Components/UsernameForm.js","client/Components/Message.js","client/Components/Messages.js","client/Components/Chat.js","client/Components/index.js","client/index.js","dashboard/components/conversation/conversation-search/ConversationSearch.js","dashboard/components/controls/buttons/Button.js","dashboard/components/conversation/no-conversations/NoConversations.js","dashboard/components/conversation/conversation-item/ConversationItem.js","dashboard/components/conversation/conversation-list/ConversationList.js","dashboard/components/conversation/new-conversation/NewConversation.js","dashboard/components/controls/icons/trash-icon/TrashIcon.js","dashboard/components/chat-title/ChatTitle.js","dashboard/components/message/Message.js","dashboard/containers/message/MessageList.js","dashboard/components/controls/buttons/FormButton.js","dashboard/components/controls/icons/attachment-icon/AttachmentIcon.js","dashboard/components/chat-form/ChatForm.js","dashboard/containers/shell/ChatShell.js","dashboard/App.js","App.js","index.js","dashboard/images/profiles/daryl.png"],"names":["watchGetConversationsAsync","delay","ms","Promise","res","setTimeout","fetchConversations","fetch","then","response","json","user","conversations","a","conversationsSaga","put","type","payload","selectedConversation","takeEvery","messagesLoaded","conversationId","messages","hasMoreMessages","lastMessageId","messageDetails","forEach","element","id","_id","messagesSaga","action","numberOfMessages","startIndex","findIndex","message","endIndex","pageGroup","slice","newLastMessageId","length","watchGetMessagesAsync","takeLatest","rootSaga","all","initialState","conversationsReducer","state","newState","find","conversation","selectedConversationIndex","c","splice","currentConversationMapEntry","newConversationMapEntry","newMessageDetails","unshift","imageUrl","require","imageAlt","name","title","createdAt","Date","now","getHours","getMinutes","latestMessageText","text","messageText","textMessage","isMyMessage","messagesReducer","combineReducers","conversationState","messagesState","styles","chatWithMeButton","cursor","boxShadow","borderRadius","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","width","height","avatarHello","position","left","top","zIndex","padding","backgroundColor","color","supportWindow","bottom","right","maxWidth","maxHeight","border","overflow","emailFormWindow","transition","WebkitTransition","MozTransition","stripe","transform","topText","fontSize","fontWeight","emailInput","textAlign","outline","bottomText","loadingDiv","loadingIcon","chatEngineWindow","messagesSection","minHeight","marginTop","overflowY","scrollBehavior","Avatar","props","useState","hovered","setHovered","style","className","opacity","onMouseEnter","onMouseLeave","onClick","UsernameForm","username","setUsername","loading","setLoading","event","preventDefault","setUser","axios","post","convID","data","room","socket","emit","error","alert","conversationMessage","console","log","visible","LoadingOutlined","onSubmit","e","handleSubmit","placeholder","onChange","target","value","Message","isBot","display","alignItems","justifyContent","flexDirection","lineHeight","marginLeft","marginRight","order","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","Messages","messagesEndRef","useRef","useEffect","current","scrollIntoView","behavior","TransitionGroup","map","i","CSSTransition","timeout","classNames","ref","Chat","responses","setResponses","convId","setconvId","currentMessage","setCurrentMessage","showChat","setShowChat","on","responseData","handleMessageSubmit","author","time","marginBottom","WebkitOverflowScrolling","borderTopWidth","borderColor","onKeyDown","key","borderWidth","io","forceNew","origins","SupportWindow","setRoom","room_","Client","wrapperRef","handleClickOutside","contains","setVisible","document","addEventListener","removeEventListener","ConversationSearch","searchInput","Button","children","NoConversations","ConversationItem","isActive","onConversationItemSelected","active","src","default","alt","date","toLocaleDateString","day","month","year","split","capitalizedMonth","toUpperCase","formatDate","ConversationList","conversationItems","conversationIsActive","NewConversation","TrashIcon","enableBackground","version","viewBox","xmlSpace","xmlns","xmlnsXlink","fill","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeWidth","x1","x2","y1","y2","d","points","ChatTitle","onDeleteConversation","chatTitleContents","messageClass","imageThumbnail","dateFormat","connect","getMessagesForConversation","dispatch","loadMessages","messagesRequested","messageItems","index","FormButton","disabled","AttachmentIcon","x","y","isMessageEmpty","adjustTextMessage","trim","ChatForm","onMessageSubmitted","setTextMessage","disableButton","formContents","handleFormSubmit","conversationChanged","postMessages","loadConversations","newConversations","newConversationAdded","newConversationMessage","newConversationMessageAdded","conversationContent","users","Dashboard","App","exact","path","component","to","sagaMiddleware","createSagaMiddleware","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","store","createStore","rootReducer","run","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.aeb54023.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user__1.b79fad04.png\";","export default \"data:image/png;base64,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\"","import { put, takeEvery } from \"redux-saga/effects\";\n\nconst delay = (ms) => new Promise((res) => setTimeout(res, ms));\n\nconst fetchConversations = fetch(\"/api/conversations\")\n  .then((response) => response.json())\n  .then((user) => {\n    const conversations = user;\n    return conversations;\n  });\n\n// const getConversations = () => {\n//   fetchConversations.then((a) => {\n//     console.log(a);\n//     return a;\n//   });\n// };\nlet conversations = [];\nfetchConversations.then((a) => {\n  conversations = a;\n  //console.log(conversations);\n  //return conversations;\n});\n\n/*const conversations = [\n  {\n    id: \"1\",\n    imageUrl: require(\"../../images/profiles/daryl.png\"),\n    imageAlt: \"Daryl Duckmanton\",\n    title: \"Daryl Duckmanton\",\n    createdAt: \"Apr 16\",\n    latestMessageText: \"This is a message\",\n    messages: [],\n  },\n  {\n    id: \"2\",\n    imageUrl: require(\"../../images/profiles/kim.jpeg\"),\n    imageAlt: \"Kim O'Neil\",\n    title: \"Kim O'Neil\",\n    createdAt: \"Oct 20\",\n    latestMessageText: \"Ok fair enough. Well good talking to you.\",\n    messages: [],\n  },\n  {\n    id: \"3\",\n    imageUrl: require(\"../../images/profiles/john.jpeg\"),\n    imageAlt: \"John Anderson\",\n    title: \"John Anderson\",\n    createdAt: \"1 week ago\",\n    latestMessageText: \"Yes I love how Python does that\",\n    messages: [],\n  },\n  {\n    id: \"4\",\n    imageUrl: require(\"../../images/profiles/ben.png\"),\n    imageAlt: \"Ben Smith\",\n    title: \"Ben Smith\",\n    createdAt: \"2:49 PM\",\n    latestMessageText: \"Yeah Miami Heat are done\",\n    messages: [],\n  },\n  {\n    id: \"5\",\n    imageUrl: require(\"../../images/profiles/douglas.png\"),\n    imageAlt: \"Douglas Johannasen\",\n    title: \"Douglas Johannasen\",\n    createdAt: \"6:14 PM\",\n    latestMessageText: \"No it does not\",\n    messages: [],\n  },\n  {\n    id: \"6\",\n    imageUrl: require(\"../../images/profiles/jacob.png\"),\n    imageAlt: \"Jacob Manly\",\n    title: \"Jacob Manly\",\n    createdAt: \"3 secs ago\",\n    latestMessageText: \"Just be very careful doing that\",\n    messages: [],\n  },\n  {\n    id: \"7\",\n    imageUrl: require(\"../../images/profiles/stacey.jpeg\"),\n    imageAlt: \"Stacey Wilson\",\n    title: \"Stacey Wilson\",\n    createdAt: \"30 mins ago\",\n    latestMessageText: \"Awesome!!! Congratulations!!!!\",\n    messages: [],\n  },\n  {\n    id: \"8\",\n    imageUrl: require(\"../../images/profiles/stan.jpeg\"),\n    imageAlt: \"Stan George\",\n    title: \"Stan George\",\n    createdAt: \"1 week ago\",\n    latestMessageText: \"Good job\",\n    messages: [],\n  },\n  {\n    id: \"9\",\n    imageUrl: require(\"../../images/profiles/sarah.jpeg\"),\n    imageAlt: \"Sarah Momes\",\n    title: \"Sarah Momes\",\n    createdAt: \"1 year ago\",\n    latestMessageText: \"Thank you. I appreciate that.\",\n    messages: [],\n  },\n];*/\n\nexport const conversationsSaga = function* () {\n  yield delay(1000);\n\n  yield put({\n    type: \"CONVERSATIONS_LOADED\",\n    payload: {\n      conversations,\n      selectedConversation: conversations[0],\n    },\n  });\n};\n\nexport function* watchGetConversationsAsync() {\n  yield takeEvery(\"CONVERSATIONS_REQUESTED\", conversationsSaga);\n}\n","export const conversationChanged = (conversationId) => ({\n  type: \"SELECTED_CONVERSATION_CHANGED\",\n  conversationId,\n});\n\nexport const conversationsRequested = () => ({\n  type: \"CONVERSATIONS_REQUESTED\",\n});\n\nexport const conversationDeleted = () => ({\n  type: \"DELETE_CONVERSATION\",\n});\n\nexport const newMessageAdded = (textMessage) => ({\n  type: \"NEW_MESSAGE_ADDED\",\n  textMessage,\n});\n\nexport const messagesRequested = (\n  conversationId,\n  numberOfMessages,\n  lastMessageId\n) => ({\n  type: \"MESSAGES_REQUESTED\",\n  payload: {\n    conversationId,\n    numberOfMessages,\n    lastMessageId,\n  },\n});\n\nexport const messagesLoaded = (\n  conversationId,\n  messages,\n  hasMoreMessages,\n  lastMessageId\n) => ({\n  type: \"MESSAGES_LOADED\",\n  payload: {\n    conversationId,\n    messages,\n    hasMoreMessages,\n    lastMessageId,\n  },\n});\n\nexport const postMessages = (conversationId, message) => ({\n  type: \"POST_MESSAGE\",\n  payload: {\n    conversationId,\n    message,\n  },\n});\n\nexport const newConversationAdded = (name, text) => ({\n  type: \"NEW_CONVERSATION_ADDED\",\n  payload: {\n    name,\n    text,\n  },\n});\n\nexport const newConversationMessageAdded = (conversationId, text) => ({\n  type: \"POST_NEW_CONVERSATION_MESSAGE\",\n  payload: {\n    conversationId,\n    text,\n  },\n});\n","import { put, takeLatest } from \"redux-saga/effects\";\n\nimport { messagesLoaded } from \"../actions\";\n\nconst fetchConversations = fetch(\"/api/conversations\")\n  .then((response) => response.json())\n  .then((user) => {\n    const conversations = user;\n    return conversations;\n  });\n\nlet conversations = [];\nconst messageDetails = {};\nfetchConversations.then((a) => {\n  conversations = a;\n  conversations.forEach((element) => {\n    const id = element._id;\n    const fetchConversationMessages = fetch(\n      `/api/conversations/conversation/${id}`\n    )\n      .then((response) => response.json())\n      .then((user) => {\n        const messages = user;\n        return messages;\n      });\n    fetchConversationMessages.then((a) => {\n      //console.log(a);\n      messageDetails[id] = a;\n      //console.log(messageDetails);\n    });\n  });\n  //console.log(messageDetails);\n  //console.log(conversations);\n  //return conversations;\n});\n\n/*const messageDetails = {\n  1: [\n    {\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Ok then\",\n      createdAt: \"Apr 16\",\n      isMyMessage: true,\n    },\n    {\n      imageUrl: require(\"../../images/profiles/daryl.png\"),\n      imageAlt: \"Daryl Duckmanton\",\n      messageText: `\n                  Yeah I think it's best we do that. Otherwise things won't work well at all. \n                  I'm adding more text here to test the sizing of the speech bubble and the \n                  wrapping of it too.\n              `,\n      createdAt: \"Apr 16\",\n      isMyMessage: false,\n    },\n    {\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Maybe we can use Jim's studio.\",\n      createdAt: \"Apr 15\",\n      isMyMessage: true,\n    },\n    {\n      imageUrl: require(\"../../images/profiles/daryl.png\"),\n      imageAlt: \"Daryl Duckmanton\",\n      messageText: `\n                  All I know is where I live it's too hard\n                  to record because of all the street noise.\n              `,\n      createdAt: \"Apr 15\",\n      isMyMessage: false,\n    },\n    {\n      imageUrl: null,\n      imageAlt: null,\n      messageText: `\n                  Well we need to work out sometime soon where\n                  we really want to record our video course.\n              `,\n      createdAt: \"Apr 15\",\n      isMyMessage: true,\n    },\n    {\n      imageUrl: require(\"../../images/profiles/daryl.png\"),\n      imageAlt: \"Daryl Duckmanton\",\n      messageText: `\n                  I'm just in the process of finishing off the\n                  last pieces of material for the course.\n              `,\n      createdAt: \"Apr 15\",\n      isMyMessage: false,\n    },\n    {\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"How's it going?\",\n      createdAt: \"Apr 13\",\n      isMyMessage: true,\n    },\n    {\n      imageUrl: require(\"../../images/profiles/daryl.png\"),\n      imageAlt: \"Daryl Duckmanton\",\n      messageText: \" Hey mate what's up?\",\n      createdAt: \"Apr 13\",\n      isMyMessage: false,\n    },\n    {\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Hey Daryl?\",\n      createdAt: \"Apr 13\",\n      isMyMessage: true,\n    },\n  ],\n  2: [\n    {\n      id: \"1\",\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Ok fair enough. Well good talking to you.\",\n      createdAt: \"Oct 20\",\n      isMyMessage: true,\n    },\n    {\n      id: \"2\",\n      imageUrl: require(\"../../images/profiles/kim.jpeg\"),\n      imageAlt: \"Kim O'Neil\",\n      messageText: `\n                Not sure exactly yet. It will be next year sometime. Probably late.\n            `,\n      createdAt: \"Oct 20\",\n      isMyMessage: false,\n    },\n    {\n      id: \"3\",\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Yeah I know. But oh well. So when is the big date?\",\n      createdAt: \"Oct 19\",\n      isMyMessage: true,\n    },\n    {\n      id: \"4\",\n      imageUrl: require(\"../../images/profiles/kim.jpeg\"),\n      imageAlt: \"Kim O'Neil\",\n      messageText: `\n                Well I know you like doing that stuff. But honestly I think\n                you are already really talented. It's a shame you haven't found\n                what you are looking for yet.\n            `,\n      createdAt: \"Oct 19\",\n      isMyMessage: false,\n    },\n    {\n      id: \"5\",\n      imageUrl: null,\n      imageAlt: null,\n      messageText: `\n                I'm doing ok. Just working on building some applications to\n                bulk up my resume, so I can get a better job.\n            `,\n      createdAt: \"Oct 19\",\n      isMyMessage: true,\n    },\n    {\n      id: \"6\",\n      imageUrl: require(\"../../images/profiles/kim.jpeg\"),\n      imageAlt: \"Kim O'Neil\",\n      messageText: `\n                I've just been really busy at work myself, looking to get\n                married sometime next year too. How are you going?\n            `,\n      createdAt: \"Oct 19\",\n      isMyMessage: false,\n    },\n    {\n      id: \"7\",\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Yes it has been a little while\",\n      createdAt: \"Oct 19\",\n      isMyMessage: true,\n    },\n    {\n      id: \"8\",\n      imageUrl: require(\"../../images/profiles/kim.jpeg\"),\n      imageAlt: \"Kim O'Neil\",\n      messageText: \"Hey!!!! Have not spoken to you for a while\",\n      createdAt: \"Oct 19\",\n      isMyMessage: false,\n    },\n    {\n      id: \"9\",\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Hi Kim?\",\n      createdAt: \"Oct 19\",\n      isMyMessage: true,\n    },\n  ],\n  3: [\n    {\n      id: \"1\",\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Hi\",\n      createdAt: \"1 week ago\",\n      isMyMessage: true,\n    },\n  ],\n  4: [\n    {\n      id: \"1\",\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Hi\",\n      createdAt: \"1 week ago\",\n      isMyMessage: true,\n    },\n  ],\n  5: [\n    {\n      id: \"1\",\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Hi\",\n      createdAt: \"1 week ago\",\n      isMyMessage: true,\n    },\n  ],\n  6: [\n    {\n      id: \"1\",\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Hi\",\n      createdAt: \"1 week ago\",\n      isMyMessage: true,\n    },\n  ],\n  7: [\n    {\n      id: \"1\",\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Hi\",\n      createdAt: \"1 week ago\",\n      isMyMessage: true,\n    },\n  ],\n  8: [\n    {\n      id: \"1\",\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Hi\",\n      createdAt: \"1 week ago\",\n      isMyMessage: true,\n    },\n  ],\n  9: [\n    {\n      id: \"1\",\n      imageUrl: null,\n      imageAlt: null,\n      messageText: \"Hi\",\n      createdAt: \"1 week ago\",\n      isMyMessage: true,\n    },\n  ],\n};*/\n\nconst delay = (ms) => new Promise((res) => setTimeout(res, ms));\n\nconst messagesSaga = function* (action) {\n  const { conversationId, numberOfMessages, lastMessageId } = action.payload;\n  const messages = messageDetails[conversationId];\n  const startIndex = lastMessageId\n    ? messages.findIndex((message) => message._id === lastMessageId) + 1\n    : 0;\n  const endIndex = startIndex + numberOfMessages;\n  const pageGroup = messages.slice(startIndex, endIndex);\n  const newLastMessageId =\n    pageGroup.length > 0 ? pageGroup[pageGroup.length - 1].id : null;\n  const hasMoreMessages = newLastMessageId && endIndex < messages.length - 1;\n\n  yield delay(1000);\n\n  yield put(\n    messagesLoaded(conversationId, pageGroup, hasMoreMessages, newLastMessageId)\n  );\n\n  if (hasMoreMessages) {\n    yield delay(1000);\n    yield put({\n      type: \"MESSAGES_REQUESTED\",\n      payload: {\n        conversationId,\n        numberOfMessages,\n        lastMessageId: newLastMessageId,\n      },\n    });\n  }\n};\n\nexport const watchGetMessagesAsync = function* () {\n  yield takeLatest(\"MESSAGES_REQUESTED\", messagesSaga);\n};\n","import { all } from 'redux-saga/effects';\n\nimport { watchGetConversationsAsync } from './conversations';\nimport { watchGetMessagesAsync } from './messages';\n\nexport default function* rootSaga() {\n    yield all([\n        watchGetConversationsAsync(),\n        watchGetMessagesAsync()\n    ]);\n}","const initialState = {\n  conversations: [],\n  selectedConversation: {},\n  messageDetails: {},\n};\n\ninitialState.selectedConversation = initialState.conversations[1];\n\nconst conversationsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"CONVERSATIONS_LOADED\": {\n      const newState = { ...state };\n      newState.conversations = action.payload.conversations\n        ? action.payload.conversations\n        : [];\n      newState.selectedConversation = action.payload.selectedConversation;\n\n      return newState;\n    }\n    case \"SELECTED_CONVERSATION_CHANGED\": {\n      const newState = { ...state };\n      newState.selectedConversation = newState.conversations.find(\n        (conversation) => conversation._id === action.conversationId\n      );\n\n      return newState;\n    }\n    case \"DELETE_CONVERSATION\": {\n      if (state.selectedConversation) {\n        const newState = { ...state };\n\n        let selectedConversationIndex = newState.conversations.findIndex(\n          (c) => c.id === newState.selectedConversation._id\n        );\n        newState.conversations.splice(selectedConversationIndex, 1);\n\n        if (newState.conversations.length > 0) {\n          if (selectedConversationIndex > 0) {\n            --selectedConversationIndex;\n          }\n\n          newState.selectedConversation =\n            newState.conversations[selectedConversationIndex];\n        } else {\n          newState.selectedConversation = null;\n        }\n\n        return newState;\n      }\n\n      return state;\n    }\n\n    case \"MESSAGES_LOADEDD\": {\n      const { conversationId, messages, hasMoreMessages, lastMessageId } =\n        action.payload;\n\n      const currentConversationMapEntry =\n        state.conversations[conversationId].messages;\n\n      const newConversationMapEntry = {\n        hasMoreMessages,\n        lastMessageId,\n        messages: [],\n      };\n\n      if (currentConversationMapEntry) {\n        newConversationMapEntry.messages = [\n          ...currentConversationMapEntry.messages,\n        ];\n      }\n\n      newConversationMapEntry.messages = [\n        ...newConversationMapEntry.messages,\n        ...messages,\n      ];\n\n      const newMessageDetails = { ...state.messageDetails };\n      newMessageDetails[conversationId] = newConversationMapEntry;\n\n      return { messageDetails: newMessageDetails };\n    }\n\n    case \"NEW_CONVERSATION_ADDED\": {\n      const newState = { ...state };\n      const length = newState.conversations.length;\n\n      newState.conversations.unshift({\n        id: length + 1,\n        imageUrl: require(\"../../images/profiles/daryl.png\"),\n        imageAlt: action.payload.name,\n        title: action.payload.name,\n        createdAt:\n          new Date(Date.now()).getHours() +\n          \":\" +\n          new Date(Date.now()).getMinutes(),\n        latestMessageText: action.payload.text,\n        messages: [],\n      });\n\n      // yield put(\n      //   newConversationMessageAdded(length + 1, action.payload.text)\n      // );\n\n      return newState;\n    }\n    case \"NEW_MESSAGE_ADDED\": {\n      if (state.selectedConversation) {\n        const newState = { ...state };\n        newState.selectedConversation = { ...newState.selectedConversation };\n\n        newState.selectedConversation.messages.unshift({\n          imageUrl: null,\n          imageAlt: null,\n          messageText: action.textMessage,\n          createdAt: \"Apr 16\",\n          isMyMessage: true,\n        });\n\n        return newState;\n      }\n\n      return state;\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default conversationsReducer;\n","const initialState = {\n  messageDetails: {},\n};\n\nconst messagesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"MESSAGES_LOADED\": {\n      const { conversationId, messages, hasMoreMessages, lastMessageId } =\n        action.payload;\n      const currentConversationMapEntry = state.messageDetails[conversationId];\n      const newConversationMapEntry = {\n        hasMoreMessages,\n        lastMessageId,\n        messages: [],\n      };\n\n      if (currentConversationMapEntry) {\n        newConversationMapEntry.messages = [\n          ...currentConversationMapEntry.messages,\n        ];\n      }\n\n      newConversationMapEntry.messages = [\n        ...newConversationMapEntry.messages,\n        ...messages,\n      ];\n\n      const newMessageDetails = { ...state.messageDetails };\n\n      newMessageDetails[conversationId] = newConversationMapEntry;\n\n      return { messageDetails: newMessageDetails };\n    }\n    case \"POST_MESSAGE\": {\n      const newState = { ...state };\n      newState.messageDetails = { ...newState.messageDetails };\n      newState.messageDetails[action.payload.conversationId].messages.unshift(\n        action.payload.message\n      );\n      return newState;\n    }\n    case \"POST_NEW_CONVERSATION_MESSAGE\": {\n      const newState = { ...state };\n      newState.messageDetails = { ...newState.messageDetails };\n      newState.messageDetails[action.payload.conversationId].messages.unshift({\n        imageUrl: null,\n        imageAlt: null,\n        messageText: action.payload.text,\n        createdAt: new Date(),\n        isMyMessage: false,\n      });\n\n      return newState;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default messagesReducer;\n","import { combineReducers } from 'redux';\n\nimport conversationState from './conversations';\nimport messagesState from './messages';\n\nexport default combineReducers({\n  conversationState,\n  messagesState\n});","export const styles = {\r\n  chatWithMeButton: {\r\n    cursor: \"pointer\",\r\n    boxShadow: \"0px 0px 16px 6px rgba(0, 0, 0, 0.33)\",\r\n    // Border\r\n    borderRadius: \"50%\",\r\n    // Background\r\n    backgroundImage: `url(./tp_small_tt.png)`,\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundPosition: \"center\",\r\n    backgroundSize: \"70px\",\r\n    // Size\r\n    width: \"70px\",\r\n    height: \"70px\",\r\n  },\r\n  avatarHello: {\r\n    // Position\r\n    position: \"absolute\",\r\n    left: \"calc(-100% - 44px - 28px)\",\r\n    top: \"calc(50% - 24px)\",\r\n    // Layering\r\n    zIndex: \"10000\",\r\n    boxShadow: \"0px 0px 16px 6px rgba(0, 0, 0, 0.33)\",\r\n    // Border\r\n    padding: \"12px 12px 12px 16px\",\r\n    borderRadius: \"24px\",\r\n    // Color\r\n    backgroundColor: \"#f9f0ff\",\r\n    color: \"black\",\r\n  },\r\n  supportWindow: {\r\n    // Position\r\n    position: \"fixed\",\r\n    bottom: \"100px\",\r\n    right: \"24px\",\r\n    // Size\r\n    width: \"400px\",\r\n    height: \"470px\",\r\n    maxWidth: \"calc(100% - 48px)\",\r\n    maxHeight: \"calc(100% - 48px)\",\r\n    backgroundColor: \"white\",\r\n    // Border\r\n    borderRadius: \"12px\",\r\n    border: `2px solid #7a39e0`,\r\n    overflow: \"hidden\",\r\n    // Shadow\r\n    boxShadow: \"0px 0px 16px 6px rgba(0, 0, 0, 0.33)\",\r\n  },\r\n  emailFormWindow: {\r\n    width: \"100%\",\r\n    overflow: \"hidden\",\r\n    transition: \"all 0.5s ease\",\r\n    WebkitTransition: \"all 0.5s ease\",\r\n    MozTransition: \"all 0.5s ease\",\r\n  },\r\n  stripe: {\r\n    position: \"relative\",\r\n    top: \"-44px\",\r\n    width: \"100%\",\r\n    height: \"308px\",\r\n    backgroundColor: \"#7a39e0\",\r\n    transform: \"skewY(-12deg)\",\r\n  },\r\n  topText: {\r\n    position: \"relative\",\r\n    width: \"100%\",\r\n    top: \"15%\",\r\n    color: \"white\",\r\n    fontSize: \"24px\",\r\n    fontWeight: \"600\",\r\n  },\r\n  emailInput: {\r\n    width: \"66%\",\r\n    textAlign: \"center\",\r\n    outline: \"none\",\r\n    padding: \"12px\",\r\n    borderRadius: \"12px\",\r\n    border: \"2px solid #7a39e0\",\r\n  },\r\n  bottomText: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    top: \"60%\",\r\n    color: \"#7a39e0\",\r\n    fontSize: \"18px\",\r\n    fontWeight: \"600\",\r\n  },\r\n  loadingDiv: {\r\n    position: \"absolute\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    textAlign: \"center\",\r\n    backgroundColor: \"white\",\r\n  },\r\n  loadingIcon: {\r\n    color: \"#7a39e0\",\r\n    position: \"absolute\",\r\n    top: \"calc(50% - 51px)\",\r\n    left: \"calc(50% - 51px)\",\r\n    fontWeight: \"600\",\r\n  },\r\n  chatEngineWindow: {\r\n    width: \"100%\",\r\n    backgroundColor: \"#fff\",\r\n  },\r\n  messagesSection: {\r\n    minHeight: \"70vh\",\r\n    maxHeight: \"70vh\",\r\n    marginTop: \"10px\",\r\n    overflowY: \"auto\",\r\n    scrollBehavior: \"smooth\",\r\n  },\r\n};\r\n","import React, { useState } from \"react\";\n\nimport { styles } from \"../styles\";\n\nconst Avatar = (props) => {\n  const [hovered, setHovered] = useState(false);\n\n  return (\n    <div style={props.style}>\n      <div\n        className=\"transition-3\"\n        style={{\n          ...styles.avatarHello,\n          ...{ opacity: hovered ? \"1\" : \"0\" },\n        }}\n      >\n        Hey it's Travelport Helpdesk \n      </div>\n\n      <div\n        onMouseEnter={() => setHovered(true)}\n        onMouseLeave={() => setHovered(false)}\n        onClick={() => props.onClick && props.onClick()}\n        className=\"transition-3\"\n        style={{\n          ...styles.chatWithMeButton,\n          ...{ border: hovered ? \"1px solid #f9f0ff\" : \"4px solid #7a39e0\" },\n        }}\n      />\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React, { useState } from \"react\";\r\n\r\nimport { styles } from \"../styles\";\r\nimport Avatar from \"./Button\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\n\r\nconst UsernameForm = (props) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function handleSubmit(event) {\r\n    if (username !== \"\") {\r\n      event.preventDefault();\r\n      setLoading(true);\r\n      props.setUser && props.setUser(username);\r\n\r\n      const conversation = {\r\n        imageUrl: \"\",\r\n        imageAlt: username,\r\n        title: username,\r\n        latestMessageText: \"Have joined the chatroom.\",\r\n        messages: [],\r\n      };\r\n      try {\r\n        await axios\r\n          .post(\"/api/conversations\", conversation)\r\n          .then((response) => {\r\n            const convID = response.data[\"_id\"];\r\n            const data = {\r\n              room: props.room,\r\n              name: username,\r\n              id: convID,\r\n            };\r\n            props.socket.emit(\"join_room\", data, async (error) => {\r\n              if (error) {\r\n                alert(error);\r\n              }\r\n              const conversationMessage = {\r\n                imageUrl: null,\r\n                imageAlt: null,\r\n                messageText:\r\n                  \"I Have joined the chatroom. Looking for some help.\",\r\n                isMyMessage: false,\r\n              };\r\n              try {\r\n                await axios.post(\r\n                  `/api/messages/${convID}`,\r\n                  conversationMessage\r\n                );\r\n                // .then((response) => {\r\n                //   const data = {\r\n                //     room: \"room2\",\r\n                //     author: convID,\r\n                //     message:\r\n                //       \"I Have joined the chatroom. Looking for some help.\",\r\n                //     time:\r\n                //       new Date(Date.now()).getHours() +\r\n                //       \":\" +\r\n                //       new Date(Date.now()).getMinutes(),\r\n                //   };\r\n                //   props.socket.emit(\"send_message\", data);\r\n                // });\r\n              } catch (err) {\r\n                console.log(err);\r\n              }\r\n            });\r\n          });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        ...styles.emailFormWindow,\r\n        ...{\r\n          height: props.visible ? \"100%\" : \"0px\",\r\n          opacity: props.visible ? \"1\" : \"0\",\r\n        },\r\n      }}\r\n    >\r\n      <div style={{ height: \"0px\" }}>\r\n        <div style={styles.stripe} />\r\n      </div>\r\n\r\n      <div\r\n        className=\"transition-5\"\r\n        style={{\r\n          ...styles.loadingDiv,\r\n          ...{\r\n            zIndex: loading ? \"10\" : \"-1\",\r\n            opacity: loading ? \"0.33\" : \"0\",\r\n          },\r\n        }}\r\n      />\r\n      <LoadingOutlined\r\n        className=\"transition-5\"\r\n        style={{\r\n          ...styles.loadingIcon,\r\n          ...{\r\n            zIndex: loading ? \"10\" : \"-1\",\r\n            opacity: loading ? \"1\" : \"0\",\r\n            fontSize: \"82px\",\r\n            top: \"calc(50% - 41px)\",\r\n            left: \"calc(50% - 41px)\",\r\n          },\r\n        }}\r\n      />\r\n\r\n      <div\r\n        style={{\r\n          position: \"absolute\",\r\n          height: \"100%\",\r\n          width: \"100%\",\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        <Avatar\r\n          style={{\r\n            position: \"relative\",\r\n            left: \"calc(50% - 44px)\",\r\n            top: \"10%\",\r\n          }}\r\n        />\r\n\r\n        <div style={styles.topText}>\r\n          Welcome to Travelport <br /> support \r\n        </div>\r\n\r\n        <form\r\n          onSubmit={(e) => handleSubmit(e)}\r\n          style={{ position: \"relative\", width: \"100%\", top: \"19.75%\" }}\r\n        >\r\n          <input\r\n            placeholder=\"Your name or agency name\"\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            style={styles.emailInput}\r\n          />\r\n        </form>\r\n\r\n        <div style={styles.bottomText}>Enter your name to get started.</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsernameForm;\r\n","import React from \"react\";\n\nconst Message = ({ message }) => {\n  return (\n    <>\n      {message.isBot ? (\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"flex-end\",\n            justifyContent: \"flex-start\",\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              marginTop: \"0.5rem\",\n              fontSize: \"1.125rem\",\n              lineHeight: \"1rem\",\n              maxWidth: \"20rem\",\n              marginLeft: \"0.5rem\",\n              marginRight: \"0.5rem\",\n              order: \"2\",\n              alignItems: \"flex-start\",\n              boxShadow:\n                \"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)\",\n              borderRadius: \"0.5rem\",\n              margin: \"0.25rem\",\n            }}\n          >\n            <span\n              style={{\n                paddingLeft: \"1rem\",\n                paddingRight: \"1rem\",\n                paddingTop: \"0.5rem\",\n                paddingBottom: \"0.5rem\",\n                borderRadius: \"0.5rem\",\n                display: \"inline-block\",\n                color: \"#ffffff\",\n                backgroundColor: \"#10B981\",\n              }}\n              className=\"dark:bg-yellow-600 dark:text-white\"\n            >\n              {message.text}\n            </span>\n          </div>\n          <i\n            className=\"fas fa-desktop dark:text-white\"\n            style={{\n              width: \"1.5rem\",\n              height: \"1.5rem\",\n              order: \"1\",\n              borderRadius: \"9999px\",\n            }}\n          />\n        </div>\n      ) : (\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"flex-end\",\n            paddingTop: \"0.5rem\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              marginTop: \"0.5rem\",\n              fontSize: \"1.125rem\",\n              lineHeight: \"1rem\",\n              maxWidth: \"20rem\",\n              marginLeft: \"0.5rem\",\n              marginRight: \"0.5rem\",\n              order: \"1\",\n              alignItems: \"flex-end\",\n              boxShadow:\n                \"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)\",\n              borderRadius: \"0.5rem\",\n              margin: \"0.25rem\",\n            }}\n          >\n            <span\n              style={{\n                paddingLeft: \"1rem\",\n                paddingRight: \"1rem\",\n                paddingTop: \"0.5rem\",\n                paddingBottom: \"0.5rem\",\n                borderRadius: \"0.5rem\",\n                display: \"inline-block\",\n                backgroundColor: \"#6366F1\",\n                color: \"#ffffff\",\n              }}\n              className=\"dark:bg-blue-600 dark:text-white\"\n            >\n              {message.text}\n            </span>\n          </div>\n          <i\n            className=\"fas fa-user dark:text-white\"\n            style={{\n              borderRadius: \"9999px\",\n              order: \"1\",\n              width: \"1.5rem\",\n              height: \"1.5rem\",\n            }}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Message;\n","import React, { useEffect, useRef } from 'react'\nimport Message from './Message'\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\n\nconst Messages = ({ messages }) => {\n  const messagesEndRef = useRef(null)\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView({ behavior: 'smooth' })\n  }\n  useEffect(scrollToBottom, [messages])\n\n  return (\n    <TransitionGroup className=\"messages\">\n      {messages.map((message, i) => (\n        <CSSTransition timeout={300} classNames=\"item\" key={i}>\n          <Message message={message} />\n        </CSSTransition>\n      ))}\n      <div ref={messagesEndRef} />\n    </TransitionGroup>\n  )\n}\n\nexport default Messages\n\n// https://stackoverflow.com/questions/64120913/could-not-find-a-declaration-file-for-module-react-scroll-to-bottom\n","import React, { useEffect, useState } from \"react\";\nimport { styles } from \"../styles\";\nimport Messages from \"./Messages\";\nimport axios from \"axios\";\n\nconst Chat = (props) => {\n  const [responses, setResponses] = useState([]);\n  const [convId, setconvId] = useState(\"\");\n  const [currentMessage, setCurrentMessage] = useState(\"\");\n  const [showChat, setShowChat] = useState(false);\n\n  useEffect(() => {\n    if (props.visible) {\n      setTimeout(() => {\n        setShowChat(true);\n      }, 500);\n    }\n  });\n\n  useEffect(() => {\n    props.socket.on(\"message\", (message) => {\n      const responseData = {\n        text: message.text,\n        isBot: true,\n      };\n      setconvId(message.id);\n\n      setResponses((responses) => [...responses, responseData]);\n    });\n\n    props.socket.on(\"receive_message\", (data) => {\n      //console.log(data);\n      const responseData = {\n        text: data.message,\n        isBot: true,\n      };\n      setResponses((responses) => [...responses, responseData]);\n    });\n  }, [props.socket]);\n\n  const handleMessageSubmit = async (message) => {\n    const conversationMessage = {\n      imageUrl: null,\n      imageAlt: null,\n      messageText: message,\n      isMyMessage: false,\n    };\n    try {\n      await axios\n        .post(`/api/messages/${convId}`, conversationMessage)\n        .then((response) => {\n          const data = {\n            room: \"room2\",\n            author: convId,\n            message: message,\n            time:\n              new Date(Date.now()).getHours() +\n              \":\" +\n              new Date(Date.now()).getMinutes(),\n          };\n          props.socket.emit(\"send_message\", data);\n        });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleMessageChange = (event) => {\n    setCurrentMessage(event.target.value);\n  };\n\n  const handleSubmit = (event) => {\n    const message = {\n      text: currentMessage,\n      author: props.user,\n      time:\n        new Date(Date.now()).getHours() +\n        \":\" +\n        new Date(Date.now()).getMinutes(),\n      isBot: false,\n    };\n    if (event.key === \"Enter\" && event.target.value !== \"\") {\n      setResponses((responses) => [...responses, message]);\n      handleMessageSubmit(message.text);\n      setCurrentMessage(\"\");\n    }\n  };\n\n  return (\n    <div\n      className=\"transition-5\"\n      style={{\n        ...styles.chatEngineWindow,\n        ...{\n          height: props.visible ? \"100%\" : \"0px\",\n          zIndex: props.visible ? \"100\" : \"0\",\n        },\n      }}\n    >\n      {showChat && (\n        <div\n          style={{\n            position: \"absolute\",\n            height: \"100%\",\n            width: \"100%\",\n            textAlign: \"center\",\n          }}\n        >\n          <div\n            style={{\n              marginLeft: \"auto\",\n              marginRight: \"auto\",\n            }}\n          >\n            <div\n              className=\" dark:bg-gray-900\"\n              style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"space-between\",\n                width: \"100%\",\n                height: \"auto\",\n                paddingTop: \"16px\",\n                paddingBottom: \"16px\",\n                marginTop: \"12px\",\n                marginBottom: \"8px\",\n                borderRadius: \"12px\",\n                backgroundColor: \"#F3F4F6\",\n              }}\n            >\n              <div\n                className=\"scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2\"\n                style={{\n                  ...styles.messagesSection,\n                  ...{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    padding: \"12px\",\n                    overflowY: \"auto\",\n                    marginTop: \"1rem\",\n                    WebkitOverflowScrolling: \"touch\",\n                  },\n                }}\n              >\n                <Messages messages={responses} />\n              </div>\n\n              <div\n                className=\" dark:border-gray-600 \"\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  paddingLeft: \"12px\",\n                  paddingRight: \"12px\",\n                  paddingTop: \"8px\",\n                  paddingBottom: \"8px\",\n                  borderTopWidth: \"2px\",\n                  borderColor: \"#E5E7EB\",\n                }}\n              >\n                <div\n                  className=\" dark:bg-gray-800 lg:max-w-lg \"\n                  style={{\n                    width: \"100%\",\n                    paddingLeft: \"8px\",\n                    paddingRight: \"8px\",\n                    paddingTop: \"8px\",\n                    paddingBottom: \"8px\",\n                    borderRadius: \"8px\",\n                    backgroundColor: \"#ffffff\",\n                    boxShadow: \"0 1px 2px 0 rgba(0, 0, 0, 0.05)\",\n                  }}\n                >\n                  <input\n                    type=\"text\"\n                    value={currentMessage}\n                    onChange={handleMessageChange}\n                    onKeyDown={handleSubmit}\n                    placeholder=\"Enter your message here\"\n                    className=\" dark:bg-gray-700 dark:border-gray-900 dark:text-white dark:placeholder-gray-100 focus:outline-none focus:text-gray-900 dark:focus:text-white focus:placeholder-gray-400 dark:focus:placeholder-white focus:ring-1 focus:ring-indigo-300 sm:text-sm\"\n                    style={{\n                      display: \"block\",\n                      width: \"100%\",\n                      paddingTop: \"0.5rem\",\n                      paddingBottom: \"0.5rem\",\n                      paddingRight: \"0.75rem\",\n                      paddingLeft: \"0.75rem\",\n                      fontSize: \"1.125rem\",\n                      lineHeight: \"1.25rem\",\n                      color: \"#6B7280\",\n                      backgroundColor: \"#ffffff\",\n                      borderWidth: \"1px\",\n                      borderRadius: \"0.375rem\",\n                      borderColor: \"#D1D5DB\",\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Chat;\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { styles } from \"../styles\";\r\nimport UsernameForm from \"./UsernameForm\";\r\nimport Chat from \"./Chat\";\r\nimport io from \"socket.io-client\";\r\n\r\n//const socket = io.connect(\"http://localhost:3001\");\r\nconst ENDPOINT = \"http://167.172.160.113/api\";\r\nconst socket = io(ENDPOINT, {\r\n  forceNew: true,\r\n  origins: \"http://167.172.160.113/api\",\r\n});\r\n\r\nconst SupportWindow = (props) => {\r\n  const [user, setUser] = useState(null);\r\n  const [room, setRoom] = useState(null);\r\n  let room_ = \"room1\";\r\n  useEffect(() => {\r\n    setRoom(room_);\r\n  }, [room_]);\r\n  return (\r\n    <div\r\n      className=\"transition-5\"\r\n      style={{\r\n        ...styles.supportWindow,\r\n        ...{ opacity: props.visible ? \"1\" : \"0\" },\r\n      }}\r\n    >\r\n      <UsernameForm\r\n        visible={user === null || room === null}\r\n        setUser={(user) => setUser(user)}\r\n        room={room}\r\n        socket={socket}\r\n      />\r\n\r\n      <Chat\r\n        visible={user !== null && room !== null}\r\n        user={user}\r\n        room={room}\r\n        socket={socket}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SupportWindow;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport Avatar from \"./Components/Button\";\r\nimport SupportWindow from \"./Components\";\r\n\r\nconst Client = (props) => {\r\n  const wrapperRef = useRef(null);\r\n  useOutsideAlerter(wrapperRef);\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  function useOutsideAlerter(ref) {\r\n    useEffect(() => {\r\n      function handleClickOutside(event) {\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n          setVisible(false);\r\n        }\r\n      }\r\n      document.addEventListener(\"mousedown\", handleClickOutside);\r\n      return () => {\r\n        document.removeEventListener(\"mousedown\", handleClickOutside);\r\n      };\r\n    }, [ref]);\r\n  }\r\n\r\n  return (\r\n    <div ref={wrapperRef}>\r\n      <SupportWindow visible={visible} />\r\n      <Avatar\r\n        onClick={() => setVisible(true)}\r\n        style={{\r\n          position: \"fixed\",\r\n          bottom: \"24px\",\r\n          right: \"24px\",\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Client;\r\n","import React from 'react';\n\nimport './ConversationSearch.scss';\n\nconst ConversationSearch = ({ conversations }) => {\n    let searchInput = null;\n\n    if (conversations && conversations.length > 0) {\n        searchInput = <input type=\"text\" placeholder=\"Search\" />;\n    }\n\n    return (\n        <div id=\"search-container\">\n            { searchInput }\n        </div>\n    );\n}\n\nexport default ConversationSearch;","import React from 'react';\n\nimport './Button.scss';\n\nconst Button = ({children}) => {\n    return (\n        <>\n            <button className=\"primary-button\">{ children }</button>\n        </>\n    );\n}\n\nexport default Button;","import React from 'react';\n\nimport Button from '../../controls/buttons/Button';\n\nimport './NoConversations.scss';\n\nconst NoConversations = () => {\n    return (\n        <div id=\"no-coversation-layout\">\n            <div id=\"no-conversation-content\">\n                <h2>No Conversations</h2>\n                <p>Currently you have no conversations.</p>\n                <p>To start a new conversation click the button below.</p>\n                <Button>New Conversation</Button>\n            </div>\n        </div>\n    );\n}\n\nexport default NoConversations;","import React from \"react\";\nimport classNames from \"classnames\";\nimport dateFormat from \"dateformat\";\n\nimport \"./ConversationItem.scss\";\n\nconst ConversationItem = ({\n  conversation,\n  isActive,\n  onConversationItemSelected,\n}) => {\n  const className = classNames(\"conversation\", {\n    active: isActive,\n  });\n\n  function formatDate(date) {\n    const options = { day: \"2-digit\", month: \"short\", year: \"numeric\" };\n    const formattedDate = new Date(date).toLocaleDateString(\"en-US\", options);\n\n    // Split the formatted date into day, month, and year parts\n    const [month, day, year] = formattedDate.split(\" \");\n\n    // Convert the month abbreviation to uppercase\n    const capitalizedMonth = month.toUpperCase();\n\n    // Return the formatted date with uppercase month abbreviation and desired format\n    return `${day} ${capitalizedMonth} ${year}`;\n  }\n\n  return (\n    <div\n      className={className}\n      onClick={() => onConversationItemSelected(conversation._id)}\n    >\n      <img\n        src={require(\"../../../images/profiles/user__1.png\").default}\n        alt={conversation.imageAlt}\n      />\n      <div className=\"title-text\">{conversation.title}</div>\n      <div className=\"created-date\">{formatDate(conversation.createdAt)}</div>\n      <div className=\"conversation-message\">\n        {conversation.latestMessageText}\n      </div>\n    </div>\n  );\n};\n\nexport default ConversationItem;\n","import React from \"react\";\n\nimport ConversationItem from \"../conversation-item/ConversationItem\";\nimport \"./ConversationList.scss\";\n\nconst ConversationList = ({\n  conversations,\n  selectedConversation,\n  onConversationItemSelected,\n}) => {\n  const conversationItems = conversations.map((conversation) => {\n    const conversationIsActive =\n      selectedConversation && conversation._id === selectedConversation._id;\n\n    return (\n      <ConversationItem\n        key={conversation._id}\n        onConversationItemSelected={onConversationItemSelected}\n        isActive={conversationIsActive}\n        conversation={conversation}\n      />\n    );\n  });\n\n  return <div id=\"conversation-list\">{conversationItems}</div>;\n};\n\nexport default ConversationList;\n","import React from 'react';\n\nimport './NewConversation.scss';\n\nconst NewConversation = () => {\n    return (\n        <div id=\"new-message-container\">\n            <button>+</button>\n        </div>\n    );\n}\n\nexport default NewConversation;","import React from 'react';\n\nimport './TrashIcon.scss';\n\nconst TrashIcon = () => {\n    return (\n        <svg className=\"trash-logo\" enableBackground=\"new 0 0 500 500\" version=\"1.1\" viewBox=\"0 0 500 500\" xmlSpace=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\">\n            <g>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"101.642\" x2=\"120.633\" y1=\"134.309\" y2=\"430.972\"/>\n                <path d=\"   M120.633,430.972c0,10.5,8.519,19.031,18.992,19.031\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"139.625\" x2=\"360.389\" y1=\"450.003\" y2=\"450.003\"/>\n                <path d=\"   M360.389,450.003c10.474,0,18.979-8.531,18.979-19.031\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <polyline fill=\"none\" points=\"   379.367,430.972 398.386,134.309 101.642,134.309  \" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <path d=\"   M432.779,115.973c0,10.059-8.143,18.215-18.188,18.215\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"414.592\" x2=\"85.409\" y1=\"134.188\" y2=\"134.188\"/>\n                <path d=\"   M85.409,134.188c-10.018,0-18.188-8.156-18.188-18.215\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <path d=\"   M67.221,115.973c0-10.019,8.17-18.188,18.188-18.188\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"85.409\" x2=\"414.592\" y1=\"97.784\" y2=\"97.784\"/>\n                <path d=\"   M414.592,97.784c10.045,0,18.188,8.17,18.188,18.188\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"307.364\" x2=\"307.364\" y1=\"97.49\" y2=\"68.988\"/>\n                <path d=\"   M307.364,68.988c0-10.474-8.505-18.991-18.965-18.991\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"288.399\" x2=\"211.628\" y1=\"49.997\" y2=\"49.997\"/>\n                <path d=\"   M211.628,49.997c-10.487,0-18.979,8.518-18.979,18.991\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <polyline fill=\"none\" points=\"   192.649,68.988 192.649,97.49 307.364,97.49  \" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n            </g>\n            <g>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"166.332\" x2=\"166.332\" y1=\"172.278\" y2=\"406.06\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"222.102\" x2=\"222.102\" y1=\"172.278\" y2=\"406.06\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"277.926\" x2=\"277.926\" y1=\"172.278\" y2=\"406.06\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"333.669\" x2=\"333.669\" y1=\"172.278\" y2=\"406.06\"/>\n            </g>\n        </svg>\n    );\n}\n\nexport default TrashIcon;","import React from 'react';\n\nimport TrashIcon from '../controls/icons/trash-icon/TrashIcon';\n\nimport './ChatTitle.scss';\n\nconst ChatTitle = ({ selectedConversation, onDeleteConversation }) => {\n    let chatTitleContents = null;\n\n    if (selectedConversation) {\n        chatTitleContents = (\n            <>\n                <span>{ selectedConversation.title }</span>\n                <div onClick={ () => { onDeleteConversation(); } } title=\"Delete Conversation\">\n                    <TrashIcon />\n                </div>\n            </>\n        );\n    }\n\n    return (\n        <div id=\"chat-title\">\n            { chatTitleContents }\n        </div>\n    );\n}\n\nexport default ChatTitle;","import React from \"react\";\nimport classNames from \"classnames\";\nimport dateFormat from \"dateformat\";\n\nimport \"./Message.scss\";\n\nconst Message = ({ isMyMessage, message }) => {\n  const messageClass = classNames(\"message-row\", {\n    \"you-message\": isMyMessage,\n    \"other-message\": !isMyMessage,\n  });\n\n  const imageThumbnail = isMyMessage ? null : (\n    <img\n      src={require(\"../../images/profiles/call-avatar.png\").default}\n      alt={message.imageAlt}\n    />\n  );\n\n  return (\n    <div className={messageClass}>\n      <div className=\"message-content\">\n        {imageThumbnail}\n        <div className=\"message-text\">{message.messageText}</div>\n        <div className=\"message-time\">\n          {dateFormat(message.createdAt, \"dddd, mmmm dS, yyyy hh:mm:ss \")}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Message;\n","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { messagesRequested } from \"../../store/actions\";\nimport Message from \"../../components/message/Message\";\nimport \"./MessageList.scss\";\n\nconst MessageList = ({\n  conversationId,\n  getMessagesForConversation,\n  loadMessages,\n}) => {\n  const messageDetails = getMessagesForConversation(conversationId);\n  const messages = messageDetails ? messageDetails.messages : null;\n  let messageItems = null;\n\n  useEffect(() => {\n    if (!messageDetails) {\n      loadMessages(conversationId, null);\n    }\n  }, [messageDetails, loadMessages, conversationId]);\n\n  if (messages && messages.length > 0) {\n    messageItems = messages.map((message, index) => {\n      return (\n        <Message\n          key={index}\n          isMyMessage={message.isMyMessage}\n          message={message}\n        />\n      );\n    });\n  }\n\n  return <div id=\"chat-message-list\">{messageItems}</div>;\n};\n\nconst mapStateToProps = (state) => {\n  const getMessagesForConversation = (conversationId) => {\n    return state.messagesState.messageDetails[conversationId];\n  };\n\n  return {\n    getMessagesForConversation,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  const loadMessages = (conversationId, lastMessageId) => {\n    dispatch(messagesRequested(conversationId, 5, lastMessageId));\n  };\n\n  return { loadMessages };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MessageList);\n","import React from 'react';\n\nimport './Button.scss';\n\nconst FormButton = ({children, disabled}) => {\n    return (\n        <>\n            <button \n                type=\"submit\" \n                className=\"primary-button\"\n                disabled={disabled}>{ children }</button>\n        </>\n    );\n}\n\nexport default FormButton;","import React from 'react';\n\nimport './AttachmentIcon.scss';\n\nconst AttachmentIcon = () => {\n    return (\n        <svg version=\"1.1\" className=\"attachment-logo\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n            viewBox=\"0 0 512.001 512.001\" xmlSpace=\"preserve\">\n            <path d=\"M475.753,61.289c-48.329-48.329-126.967-48.329-175.296,0L15.535,346.212\n                c-20.713,20.713-20.713,54.413,0,75.127l50.085,50.085c20.713,20.713,54.413,20.713,75.127,0l221.305-221.305\n                c20.713-20.713,20.713-54.413,0-75.127s-54.413-20.713-75.127,0L168.981,292.935c-6.915,6.915-6.915,18.127,0,25.042\n                c6.915,6.915,18.127,6.915,25.042,0l117.943-117.943c6.903-6.903,18.137-6.906,25.042,0c6.906,6.906,6.903,18.14,0,25.042\n                L115.705,446.38c-6.903,6.903-18.137,6.906-25.042,0l-50.085-50.085c-6.906-6.906-6.903-18.14,0-25.042L325.499,86.332\n                c34.519-34.519,90.689-34.522,125.211,0s34.519,90.693,0,125.211l-181.56,181.56c-6.915,6.915-6.915,18.127,0,25.042\n                c6.915,6.915,18.127,6.915,25.042,0l181.56-181.56C524.083,188.256,524.083,109.62,475.753,61.289z\"/>\n            <g>\n                <path d=\"M299.446,187.512L181.503,305.456c-4.623,4.623-6.081,11.149-4.523,17.045\n                    c-2.924-0.772-5.705-2.231-7.997-4.523c-6.915-6.915-6.915-18.127,0-25.042l117.943-117.943c20.713-20.713,54.413-20.713,75.127,0\n                    c2.137,2.137,3.999,4.44,5.695,6.826C347.015,167.074,318.022,168.936,299.446,187.512z\"/>\n                <path d=\"M456.654,92.911c2.265,1.855,4.465,3.83,6.578,5.943c34.522,34.522,34.519,90.693,0,125.211\n                    l-181.56,181.56c-4.623,4.623-6.081,11.149-4.523,17.045c-2.924-0.772-5.705-2.231-7.997-4.523c-6.915-6.915-6.915-18.127,0-25.042\n                    l181.56-181.56C483.117,179.138,485.094,127.655,456.654,92.911z\"/>\n                <path d=\"M115.705,446.38l221.305-221.305c4.613-4.613,6.07-11.142,4.519-17.04\n                    c2.927,0.77,5.712,2.228,8.003,4.519c6.906,6.906,6.903,18.14,0,25.042L128.226,458.902c-6.903,6.903-18.137,6.906-25.042,0\n                    L90.663,446.38C97.568,453.286,108.802,453.283,115.705,446.38z\"/>\n                <path d=\"M312.978,73.811L28.057,358.732c-20.713,20.713-20.713,54.413,0,75.127l-12.521-12.521\n                    c-20.713-20.713-20.713-54.413,0-75.127L300.457,61.289c48.329-48.329,126.967-48.329,175.296,0\n                    c2.113,2.113,4.015,4.354,5.943,6.577C433.056,25.693,359.195,27.594,312.978,73.811z\"/>\n            </g>\n        </svg>\n    );\n}\n\nexport default AttachmentIcon;","import React, { useState } from \"react\";\nimport FormButton from \"../controls/buttons/FormButton\";\nimport AttachmentIcon from \"../controls/icons/attachment-icon/AttachmentIcon\";\nimport axios from \"axios\";\nimport \"./ChatForm.scss\";\n\nconst isMessageEmpty = (textMessage) => {\n  return adjustTextMessage(textMessage).length === 0;\n};\n\nconst adjustTextMessage = (textMessage) => {\n  return textMessage.trim();\n};\n\nconst ChatForm = ({\n  selectedConversation,\n  onMessageSubmitted,\n  socket,\n  convId,\n}) => {\n  const [textMessage, setTextMessage] = useState(\"\");\n  const disableButton = isMessageEmpty(textMessage);\n  let formContents = null;\n  let handleFormSubmit = null;\n\n  if (selectedConversation) {\n    formContents = (\n      <>\n        <div title=\"Add Attachment\">\n          <AttachmentIcon />\n        </div>\n        <input\n          type=\"text\"\n          placeholder=\"type a message\"\n          value={textMessage}\n          onChange={(e) => {\n            setTextMessage(e.target.value);\n          }}\n        />\n        <FormButton disabled={disableButton}>Send</FormButton>\n      </>\n    );\n\n    handleFormSubmit = async (e) => {\n      e.preventDefault();\n      if (!isMessageEmpty(textMessage)) {\n        const message = {\n          imageUrl: null,\n          imageAlt: null,\n          messageText: textMessage,\n          createdAt: new Date(),\n          isMyMessage: true,\n        };\n\n        try {\n          await axios\n            .post(`/api/messages/${convId}`, message)\n            .then((response) => {\n              const data = {\n                room: \"room1\",\n                message: textMessage,\n                time:\n                  new Date(Date.now()).getHours() +\n                  \":\" +\n                  new Date(Date.now()).getMinutes(),\n              };\n              onMessageSubmitted(selectedConversation._id, message);\n              socket.emit(\"send_message\", data);\n            });\n        } catch (err) {\n          console.log(err);\n        }\n        setTextMessage(\"\");\n      }\n    };\n  }\n\n  return (\n    <form id=\"chat-form\" onSubmit={handleFormSubmit}>\n      {formContents}\n    </form>\n  );\n};\n\nexport default ChatForm;\n","import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {\n  conversationChanged,\n  conversationDeleted,\n  conversationsRequested,\n  newConversationAdded,\n  newConversationMessageAdded,\n  postMessages,\n} from \"../../store/actions\";\nimport ConversationSearch from \"../../components/conversation/conversation-search/ConversationSearch\";\nimport NoConversations from \"../../components/conversation/no-conversations/NoConversations\";\nimport ConversationList from \"../../components/conversation/conversation-list/ConversationList\";\nimport NewConversation from \"../../components/conversation/new-conversation/NewConversation\";\nimport ChatTitle from \"../../components/chat-title/ChatTitle\";\nimport MessageList from \"../message/MessageList\";\nimport ChatForm from \"../../components/chat-form/ChatForm\";\n\nimport \"./ChatShell.scss\";\n\nconst ChatShell = ({\n  conversations,\n  selectedConversation,\n  conversationChanged,\n  onMessageSubmitted,\n  onDeleteConversation,\n  loadConversations,\n  newConversations,\n  newConversationMessage,\n  socket,\n}) => {\n  const [convId, setconvId] = useState(\"\");\n  useEffect(() => {\n    loadConversations();\n  }, [loadConversations]);\n  let conversationContent = (\n    <>\n      <NoConversations></NoConversations>\n    </>\n  );\n\n  if (conversations.length > 0) {\n    conversationContent = (\n      <>\n        <MessageList conversationId={selectedConversation._id} />\n      </>\n    );\n  }\n  useEffect(() => {\n    socket.on(\"roomData\", (data) => {\n      const text = data.text;\n      data.users.forEach(function (user) {\n        newConversations(user, text);\n      });\n    });\n    socket.on(\"receive_message\", (data) => {\n      //console.log(data);\n      setconvId(data.author);\n      newConversationMessage(data.author, data.message);\n    });\n  }, [socket, newConversations, newConversationMessage]);\n\n  return (\n    <div id=\"chat-container\">\n      <ConversationSearch conversations={conversations} />\n      <ConversationList\n        onConversationItemSelected={conversationChanged}\n        conversations={conversations}\n        selectedConversation={selectedConversation}\n      />\n      <NewConversation />\n      <ChatTitle\n        selectedConversation={selectedConversation}\n        onDeleteConversation={onDeleteConversation}\n      />\n      {conversationContent}\n      <ChatForm\n        selectedConversation={selectedConversation}\n        onMessageSubmitted={onMessageSubmitted}\n        socket={socket}\n        convId={convId}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    conversations: state.conversationState.conversations,\n    selectedConversation: state.conversationState.selectedConversation,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  conversationChanged: (conversationId) => {\n    dispatch(conversationChanged(conversationId));\n  },\n  onMessageSubmitted: (conversationId, message) => {\n    //dispatch(newMessageAdded(messageText));\n    dispatch(postMessages(conversationId, message));\n  },\n  onDeleteConversation: () => {\n    dispatch(conversationDeleted());\n  },\n  loadConversations: () => {\n    dispatch(conversationsRequested());\n  },\n  newConversations: (name, text) => {\n    dispatch(newConversationAdded(name, text));\n  },\n  newConversationMessage: (conversationId, message) => {\n    dispatch(newConversationMessageAdded(conversationId, message));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatShell);\n","import React from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport ChatShell from \"./containers/shell/ChatShell\";\r\n\r\n//const socket = io.connect(\"http://localhost:3001\");\r\nconst ENDPOINT = \"http://167.172.160.113/api\";\r\nconst socket = io(ENDPOINT, {\r\n  forceNew: true,\r\n  origins: \"http://167.172.160.113/api\",\r\n});\r\nconst Dashboard = () => {\r\n  const data = {\r\n    room: \"room2\",\r\n  };\r\n  socket.emit(\"join_room\", data, (error) => {\r\n    if (error) {\r\n      alert(error);\r\n    }\r\n  });\r\n  return (\r\n    <div className=\"chatshell\">\r\n      <div className=\"chatshell_root\">\r\n        <ChatShell socket={socket} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\n\nimport Client from \"./client\";\nimport Dashboard from \"./dashboard/App\";\n\nconst App = () => {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Client} />\n      <Route path=\"/dashboard\" component={Dashboard} />\n      <Redirect to=\"/\" />\n    </Switch>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport rootSaga from \"./dashboard/store/sagas\";\nimport rootReducer from \"./dashboard/store/reducers\";\nimport App from \"./App\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst composeEnhancers =\n  typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // Specify extensions options like name, actionsBlacklist, actionsCreators, serialize...\n      })\n    : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(sagaMiddleware));\n\nconst store = createStore(rootReducer, enhancer);\n\nsagaMiddleware.run(rootSaga);\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n\n  document.getElementById(\"root\")\n);\n","export default \"data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gKgSUNDX1BST0ZJTEUAAQEAAAKQbGNtcwQwAABtbnRyUkdCIFhZWiAH4AALAAYAAAAxABthY3NwQVBQTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtkZXNjAAABCAAAADhjcHJ0AAABQAAAAE53dHB0AAABkAAAABRjaGFkAAABpAAAACxyWFlaAAAB0AAAABRiWFlaAAAB5AAAABRnWFlaAAAB+AAAABRyVFJDAAACDAAAACBnVFJDAAACLAAAACBiVFJDAAACTAAAACBjaHJtAAACbAAAACRtbHVjAAAAAAAAAAEAAAAMZW5VUwAAABwAAAAcAHMAUgBHAEIAIABiAHUAaQBsAHQALQBpAG4AAG1sdWMAAAAAAAAAAQAAAAxlblVTAAAAMgAAABwATgBvACAAYwBvAHAAeQByAGkAZwBoAHQALAAgAHUAcwBlACAAZgByAGUAZQBsAHkAAAAAWFlaIAAAAAAAAPbWAAEAAAAA0y1zZjMyAAAAAAABDEoAAAXj///zKgAAB5sAAP2H///7ov///aMAAAPYAADAlFhZWiAAAAAAAABvlAAAOO4AAAOQWFlaIAAAAAAAACSdAAAPgwAAtr5YWVogAAAAAAAAYqUAALeQAAAY3nBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbcGFyYQAAAAAAAwAAAAJmZgAA8qcAAA1ZAAAT0AAACltwYXJhAAAAAAADAAAAAmZmAADypwAADVkAABPQAAAKW2Nocm0AAAAAAAMAAAAAo9cAAFR7AABMzQAAmZoAACZmAAAPXP/bAEMABQMEBAQDBQQEBAUFBQYHDAgHBwcHDwsLCQwRDxISEQ8RERMWHBcTFBoVEREYIRgaHR0fHx8TFyIkIh4kHB4fHv/bAEMBBQUFBwYHDggIDh4UERQeHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHv/CABEIADAAMAMBIgACEQEDEQH/xAAaAAEBAAMBAQAAAAAAAAAAAAAFBAIDBgcI/8QAGAEBAQEBAQAAAAAAAAAAAAAABAMCAQX/2gAMAwEAAhADEAAAAfO1j2d8mlspjfjqb4rm+hPI+5CmgsVs86iMaF2+dto5qWe2c9hEERLcwiof/8QAHxAAAgICAgMBAAAAAAAAAAAAAgMBBAAFERIGExQy/9oACAEBAAEFAu2K17m1yRVPG0LqBY7s4Jg4Wns7amTmrROKJlYtwoTynHK9pT1YVAX7KdY2fO2wZ5BHGUvx5bak2JGBo3OYUiIlD5GI0SkWHXbBSFZvsoW+etcpJN4s8YIp2DrXI0nHFq0cZLj6smSPVPirsP/EABwRAAICAwEBAAAAAAAAAAAAAAABAgMREiEEMv/aAAgBAwEBPwGMcjo4S4edbzwWJ/KLCl6MnPDJ9P/EABwRAAICAwEBAAAAAAAAAAAAAAABAgMSISIRUf/aAAgBAgEBPwGT8MyGy3mCI/SlF/SEtFcsWf/EACgQAAEEAQMCBQUAAAAAAAAAAAEAAgMRIRIxMgRBBRMiUXEUUoGRof/aAAgBAQAGPwJGZ72dPF9z+60jxKviIgLzmOZPH7tN2mPLardWNkxhxqNJkbbELMNHwtlqZt3HYr6qHg7kO7CvypZ5ulZTB2wmOaDqt2xT/NbxXZrU43iln3TOiiO3qd89lHXGrWKorVSPso2yZjvKm6t/OQ4UQjxWMogk/pEVQWlCFoJL9gFRDXNbxsf1N9XJXoooisK1D1Got0OzS//EACAQAQACAgICAwEAAAAAAAAAAAEAESFBMWFRcYGRsfD/2gAIAQEAAT8hhm9MfmJkGdH2mMBXJ/cYDhwn9iA0s0MZlUUurYfX4METlpNuXPw9ykEuqn0XqfCxmzTvXRjuYdT7iWrNF0+FbbBAKstjAjTV2mvI9rh8GYdvkt5zG3mdMtDoy3ioLlxSNRk8s9nmvRRH8a/kXzMJubp2j1qblOLlbmZ4gLyTVSTfncPuym+OovJbMQQKQ5bcQArFzqp//9oADAMBAAIAAwAAABA8NDAEZcmn/8QAGhEAAwEAAwAAAAAAAAAAAAAAAAERIUFR0f/aAAgBAwEBPxCkZpCPDFs4TwTjB5R9exNEJun/xAAaEQEBAQEAAwAAAAAAAAAAAAABABEhMUGh/9oACAECAQE/EGEd3SCr2vyXlFs7IwLYTCl//8QAIhABAQACAQQCAwEAAAAAAAAAAREAITFBUXGBYZGhscHh/9oACAEBAAE/EGtZvu1aRdpbSXfXpgIdaIv7e8KOiEFAOgGANO5h5AHJu38jJkVIqBxc4cw6gBcCCF6yQD3YV8mEiQc05xTs0emB+nkxJQSBpdDlcjlj5f5l1EOVvQMbUHvHjfGAEfFGvBiAhxrBfPjB53kSL04NYj6YgA9kdOTFEr94SxHC6S2fFH6xt4DdVPfl594DoRIK3s/OJApUE2JjGHVJoyDM1yl4psuSRyfg2v4RPLmzrdVmp7b93tkmQcwduadM5W5JlwlM1J2MADioSFdeL9YolJKoTfs4G/jOjAi+AMfH+5Ri/cv8x07cCTFdrgcmCsVohn3n/9kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=\""],"sourceRoot":""}